{"version":3,"file":"static/js/105.7820f13b.chunk.js","mappings":"sPACA,GAAgB,KAAO,0BAA0B,KAAO,0BAA0B,MAAQ,2BAA2B,SAAW,8BAA8B,QAAU,8B,SCMzJ,SAASA,IACtB,OAA8BC,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,EAAWJ,EAAQK,KAAI,YAAsC,IAAnCC,EAAkC,EAAlCA,GAAIC,EAA8B,EAA9BA,eAAgBC,EAAc,EAAdA,QAC5CC,EAAYF,EAAeG,YAAf,0CACqBH,EAAeG,aAClD,0FACJ,OACE,eAAaC,UAAWC,EAAAA,KAAxB,UACE,iBAAKD,UAAWC,EAAAA,OAAhB,WACE,eAAGD,UAAWC,EAAAA,KAAd,WACE,iBAAMD,UAAWC,EAAAA,SAAjB,mBACCL,EAAeM,aAGlB,gBAAKC,IAAKL,EAAWM,IAAI,GAAGJ,UAAWC,EAAAA,SACvC,cAAGD,UAAWC,EAAAA,QAAd,SAA+BJ,QAR1BF,EAYZ,IAeD,OAbAU,EAAAA,EAAAA,YAAU,WAAM,wCACd,gHAE2BC,EAAAA,EAAAA,IAAkBf,GAF7C,gBAEYgB,EAFZ,EAEYA,KACRjB,EAAWiB,EAAKC,SAHpB,gDAKIC,QAAQC,IAAR,MALJ,0DADc,uBAAC,WAAD,wBAUdC,EACD,GAAE,CAACpB,KAGF,gBAAIS,UAAWC,EAAAA,KAAf,UACGZ,EAAQuB,OAAS,GAAKnB,EACH,IAAnBJ,EAAQuB,QAAgB,8BAG9B,C,sLC/CKC,E,OAAYC,EAAAA,OAAa,CAC7BC,QAAS,+BACTC,OAAQ,CACNC,QAAS,sCAIN,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,oGACkBL,EAAUM,IAAI,uBADhC,cACCC,EADD,yBAEEA,GAFF,kEAKA,SAAeC,EAAtB,iDAAO,OAAP,oBAAO,WAAgCC,EAAWC,GAA3C,uFACkBV,EAAUM,IAAI,gBAAiB,CACpDH,OAAQ,CACNQ,MAAOF,EACPC,KAAAA,KAJC,cACCH,EADD,yBAQEA,GARF,kEAWA,SAAeK,EAAtB,+CAAO,OAAP,oBAAO,WAA+B9B,GAA/B,uFACkBkB,EAAUM,IAAV,iBAAwBxB,IAD1C,cACCyB,EADD,yBAEEA,GAFF,kEAKA,SAAeM,EAAtB,+CAAO,OAAP,oBAAO,WAA8B/B,GAA9B,uFACkBkB,EAAUM,IAAV,iBAAwBxB,EAAxB,aADlB,cACCyB,EADD,yBAEEA,GAFF,kEAKA,SAAed,EAAtB,+CAAO,OAAP,oBAAO,WAAiCX,GAAjC,uFACkBkB,EAAUM,IAAV,iBAAwBxB,EAAxB,aADlB,cACCyB,EADD,yBAEEA,GAFF,kE","sources":["webpack://react-homework-template/./src/pages/ReviewsPage/ReviewsPage.module.scss?2842","pages/ReviewsPage/ReviewsPage.jsx","shared/api/fetchMovies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"ReviewsPage_item__2QfcZ\",\"name\":\"ReviewsPage_name__71Tzq\",\"image\":\"ReviewsPage_image__X2G1d\",\"textItem\":\"ReviewsPage_textItem__5mL6N\",\"content\":\"ReviewsPage_content__mDovb\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { fetchMovieReviews } from 'shared/api/fetchMovies';\n\nimport styles from 'pages/ReviewsPage/ReviewsPage.module.scss';\n\nexport default function ReviewsPage() {\n  const [reviews, setReviews] = useState([]);\n  const { movieId } = useParams();\n\n  const elements = reviews.map(({ id, author_details, content }) => {\n    const imagePath = author_details.avatar_path\n      ? `https://image.tmdb.org/t/p/w500/${author_details.avatar_path}`\n      : 'https://www.salonlfc.com/wp-content/uploads/2018/01/image-not-found-scaled-1150x647.png';\n    return (\n      <li key={id} className={styles.item}>\n        <div className={styles.author}>\n          <p className={styles.name}>\n            <span className={styles.textItem}>User:</span>\n            {author_details.username}\n          </p>\n\n          <img src={imagePath} alt=\"\" className={styles.image} />\n          <p className={styles.content}>{content}</p>\n        </div>\n      </li>\n    );\n  });\n\n  useEffect(() => {\n    async function getReviews() {\n      try {\n        const { data } = await fetchMovieReviews(movieId);\n        setReviews(data.results);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n    getReviews();\n  }, [movieId]);\n\n  return (\n    <ul className={styles.list}>\n      {reviews.length > 0 && elements}\n      {reviews.length === 0 && 'Sorry, reviews not found!'}\n    </ul>\n  );\n}\n","import axios from 'axios';\n\nconst moviesApi = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '66226a1e6e6df674891504524d512221',\n  },\n});\n\nexport async function fetchMostPopularMovies() {\n  const response = await moviesApi.get('/trending/movie/day');\n  return response;\n}\n\nexport async function fetchQueryMovies(movieName, page) {\n  const response = await moviesApi.get('/search/movie', {\n    params: {\n      query: movieName,\n      page,\n    },\n  });\n\n  return response;\n}\n\nexport async function feetchMovieById(id) {\n  const response = await moviesApi.get(`/movie/${id}`);\n  return response;\n}\n\nexport async function fetchMovieCast(id) {\n  const response = await moviesApi.get(`/movie/${id}/credits`);\n  return response;\n}\n\nexport async function fetchMovieReviews(id) {\n  const response = await moviesApi.get(`/movie/${id}/reviews`);\n  return response;\n}\n"],"names":["ReviewsPage","useState","reviews","setReviews","movieId","useParams","elements","map","id","author_details","content","imagePath","avatar_path","className","styles","username","src","alt","useEffect","fetchMovieReviews","data","results","console","log","getReviews","length","moviesApi","axios","baseURL","params","api_key","fetchMostPopularMovies","get","response","fetchQueryMovies","movieName","page","query","feetchMovieById","fetchMovieCast"],"sourceRoot":""}